// InsureCo Component Customizations
// Global component styling overrides for Carbon components

// ============================================
// Buttons
// ============================================
.cds--btn--primary {
  background-color: var(--interactive-primary);
  border-color: var(--interactive-primary);
  
  &:hover {
    background-color: var(--interactive-hover);
    border-color: var(--interactive-hover);
  }
  
  &:active {
    background-color: var(--interactive-active);
    border-color: var(--interactive-active);
  }
}

// ============================================
// Cards/Tiles
// ============================================
.cds--tile {
  background-color: var(--background-primary);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--card-shadow);
  transition: box-shadow var(--motion-hover), transform var(--motion-hover);
  
  &:hover {
    box-shadow: var(--card-shadow-hover);
  }
}

.cds--tile--clickable {
  &:hover {
    transform: translateY(-2px);
  }
}

// ============================================
// Forms
// ============================================
.cds--text-input,
.cds--text-area,
.cds--select-input,
.cds--number__input-wrapper input {
  background-color: var(--field-background) !important;
  color: var(--field-text) !important;
  border-bottom-color: var(--border-strong);

  &:focus {
    outline-color: var(--interactive-primary);
    border-bottom-color: var(--interactive-primary);
    background-color: var(--field-background) !important;
  }

  // Ensure text remains visible in all states
  &:disabled {
    background-color: var(--background-secondary) !important;
    color: var(--text-tertiary) !important;
  }

  // Handle autofill states (browser autofill)
  // This prevents Chrome from applying white background on autofill in dark mode
  &:-webkit-autofill,
  &:-webkit-autofill:hover,
  &:-webkit-autofill:focus,
  &:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 1000px var(--field-background) inset !important;
    -webkit-text-fill-color: var(--field-text) !important;
    border-bottom-color: var(--border-strong);
  }

  // Firefox autofill
  &:-moz-autofill,
  &:-moz-autofill-preview {
    background-color: var(--field-background) !important;
    color: var(--field-text) !important;
  }
}

// Placeholder text styling
.cds--text-input::placeholder,
.cds--text-area::placeholder,
.cds--select-input::placeholder {
  color: var(--field-placeholder);
  opacity: 0.6;
}

.cds--label {
  color: var(--text-secondary);
}

.cds--form__helper-text {
  color: var(--text-tertiary);
}

// ============================================
// Navigation/Header
// ============================================
.cds--header {
  background-color: var(--background-primary);
  border-bottom: 1px solid var(--border-subtle);
}

.cds--header__name {
  color: var(--text-primary) !important;
  background-color: transparent !important;

  &:hover {
    color: var(--interactive-primary) !important;
    background-color: var(--background-hover) !important;
  }

  span,
  .cds--header__name--prefix {
    color: var(--text-primary) !important;
    background-color: transparent !important;
  }
}

.cds--header__menu-item,
.cds--header__menu-item a,
.cds--header__menu-item button {
  color: var(--text-primary);

  &:hover {
    background-color: var(--background-hover);
    color: var(--interactive-primary);
  }

  &:focus {
    border-color: var(--interactive-primary);
  }
}

.cds--header__nav {
  background-color: var(--background-primary);
}

.cds--header__menu-bar {
  background-color: var(--background-primary);
}

.cds--header__action {
  color: var(--text-primary);

  &:hover {
    background-color: var(--background-hover);
  }

  svg {
    fill: var(--text-primary);
  }
}

.cds--header__menu-toggle {
  svg {
    fill: var(--text-primary);
  }
}

.cds--side-nav {
  background-color: var(--background-secondary);

  .cds--side-nav__link,
  .cds--side-nav__menu-item {
    color: var(--text-primary);

    &:hover {
      background-color: var(--background-hover);
      color: var(--interactive-primary);
    }
  }
}

// ============================================
// Tables
// ============================================
.cds--data-table {
  background-color: var(--background-primary);
  
  thead {
    background-color: var(--background-secondary);
  }
  
  th {
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-strong);
  }
  
  td {
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-subtle);
  }
  
  tbody tr:hover {
    background-color: var(--background-hover);
  }
}

// ============================================
// Modals
// ============================================
.cds--modal {
  .cds--modal-container {
    background-color: var(--background-primary);
    box-shadow: var(--modal-shadow);
  }
  
  .cds--modal-header {
    border-bottom: 1px solid var(--border-subtle);
  }
  
  .cds--modal-footer {
    border-top: 1px solid var(--border-subtle);
  }
}

// ============================================
// Progress Indicators
// ============================================
.cds--progress-bar {
  .cds--progress-bar__bar {
    background-color: var(--interactive-primary);
  }
}

// IMPORTANT: High specificity selectors to override Carbon's default styles
// Carbon's default styles don't adapt to custom theme tokens, so we need
// to use more specific selectors to ensure our theme-aware colors are applied.
// Without this specificity, Carbon's defaults win and cause dark-on-dark text in dark mode.
.cds--progress-indicator {
  // All step labels must be readable in both themes
  // Use multiple class selectors to increase specificity above Carbon's defaults
  .cds--progress-step .cds--progress-label {
    color: var(--text-primary) !important;
  }

  // Current step styling - highest specificity for active state
  .cds--progress-step--current {
    .cds--progress-line {
      background-color: var(--interactive-primary);
    }

    // Multi-class selector ensures we override Carbon's default color
    .cds--progress-step-button .cds--progress-label {
      color: var(--interactive-primary) !important;
      font-weight: var(--font-weight-semibold);
    }

    .cds--progress-step-button::before {
      background-color: var(--interactive-primary);
      border-color: var(--interactive-primary);
    }
  }

  // Completed steps - ensure checkmark and label are visible
  .cds--progress-step--complete {
    .cds--progress-step-button .cds--progress-label {
      color: var(--text-primary) !important;
    }

    svg {
      fill: var(--interactive-primary);
    }
  }

  // Incomplete/upcoming steps - subtle but still readable
  .cds--progress-step--incomplete {
    .cds--progress-step-button .cds--progress-label {
      color: var(--text-secondary) !important;
    }

    .cds--progress-step-button::before {
      background-color: transparent;
      border-color: var(--border-strong);
    }
  }

  // Step button backgrounds
  .cds--progress-step-button {
    background-color: transparent;
    color: var(--text-primary);

    &:hover {
      background-color: var(--background-hover);
    }

    &:focus {
      outline-color: var(--interactive-primary);
    }
  }

  // Progress lines
  .cds--progress-line {
    background-color: var(--border-subtle);
  }
}

// ============================================
// Tags
// ============================================
.cds--tag {
  &.cds--tag--red {
    background-color: var(--color-brand-red-20);
    color: var(--color-brand-red-80);
  }
  
  &.cds--tag--green {
    background-color: var(--color-success-10);
    color: var(--color-success-70);
  }
}

// ============================================
// Notifications
// ============================================
.cds--inline-notification,
.cds--toast-notification {
  &.cds--inline-notification--error,
  &.cds--toast-notification--error {
    border-left-color: var(--color-error);
  }
  
  &.cds--inline-notification--success,
  &.cds--toast-notification--success {
    border-left-color: var(--color-success);
  }
  
  &.cds--inline-notification--warning,
  &.cds--toast-notification--warning {
    border-left-color: var(--color-warning);
  }
  
  &.cds--inline-notification--info,
  &.cds--toast-notification--info {
    border-left-color: var(--color-info);
  }
}

// ============================================
// Tabs
// ============================================
.cds--tabs {
  .cds--tabs__nav-link {
    color: var(--text-secondary);
    border-bottom-color: var(--border-subtle);
    
    &:hover {
      color: var(--text-primary);
      border-bottom-color: var(--border-strong);
    }
    
    &[aria-selected="true"] {
      color: var(--text-primary);
      border-bottom-color: var(--interactive-primary);
    }
  }
}

// ============================================
// Accordion
// ============================================
.cds--accordion__item {
  border-top: 1px solid var(--border-subtle);
  
  &:last-child {
    border-bottom: 1px solid var(--border-subtle);
  }
}

.cds--accordion__heading {
  &:hover {
    background-color: var(--background-hover);
  }
}

// ============================================
// Tooltips & Popovers
// ============================================
.cds--popover-content,
.cds--tooltip-content {
  background-color: var(--background-tertiary);
  color: var(--text-primary);
  box-shadow: var(--dropdown-shadow);
}

.cds--popover-caret {
  background-color: var(--background-tertiary);
}

// ============================================
// Content Area
// ============================================
.cds--content {
  background-color: var(--background-secondary);
  color: var(--text-primary);
}
